generator client {
  provider        = "prisma-client"
  output          = "./generated/prisma"
  previewFeatures = ["relationJoins"]
  moduleFormat    = "cjs"
}

datasource db {
  provider = "mongodb"
  url      = env("CORE_SERVICE_MONGODB")
}

enum MenuType {
  link
  component
}

model Menu {
  /// ===== Base Fields =====
  id String @id @default(auto()) @map("_id") @db.ObjectId

  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  createdBy String?
  updatedBy String?
  status    String  @default("active")

  version Int @default(1)

  tenantId String @default("system")

  /// ===== Business Fields =====
  label String   @unique
  type  MenuType

  to         String?
  component  String?
  classNames String[]
  roles      String[] @default([])
  order      Int?
}
